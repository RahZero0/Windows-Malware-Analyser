const transform = async (e) => {
  const list = e.target.classList
  const target = list[1].split('-')[0]
  const cards = document.querySelectorAll(`.${target}-card`)
  if (document.querySelector(`.${target}-nav`).classList.contains('transformed')) {
    const labels = document.querySelectorAll(`.${target}-label`)
    labels.forEach((label) => {
      label.classList.remove('active')
    })
  } else {
    document.querySelector(`.${target}-nav`).classList.add('transformed')
    cards.forEach((card) => {
      card.classList.add('transform')
    })
  }
  if (target === 'mem') {
    if (list.contains('dum-label') || list.contains('dum-card')) {
      document.querySelector('.dum-label').classList.add('active')
    } else if (list.contains('com-label') || list.contains('com-card')) {
      document.querySelector('.com-label').classList.add('active')
    }
  } else if (target === 'net') {
    if (list.contains('live-label') || list.contains('live-card')) {
      document.querySelector('.live-label').classList.add('active')
    } else if (list.contains('pcap-label') || list.contains('pcap-card')) {
      document.querySelector('.pcap-label').classList.add('active')
    }
  }
}

export { transform }
